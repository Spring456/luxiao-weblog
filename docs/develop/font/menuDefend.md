## 前端工程导航守卫以及权限控制功能的业务逻辑

### 导航守卫的逻辑

导航守卫的逻辑就是：

1、路由首页默认是登录页面

2、在登录页面点击登录后，请求后台接口，后台返回token

3、将token存入到vuex里，或放在请求头

4、在进入任何页面之前，通过`router.beforeEach`方法判断有无token或其他权限，有则进入，没有就跳转到登录页

`router.beforeEach`方法

```js
router.beforeEach((to, from, next) => {
  // to表示要进入的页面
  // from表示从哪个页面进入
  // next()表示如果满足条件，则进入下一个路由
})
```

### 权限控制逻辑

1、第一种做法

导航的生成如果是后台生成，前端渲染成导航路由。这种就是，后台返回的是什么，我们直接渲染即可。如果是对于按钮的权限，可以根据判断即可。比较简单

2、第二种做法

如果权限控制由前端控制。那从后台获取到的权限值，比如id。我们在写路由时，通过id判断，后台有无这个id。没有就不显示，有就显示出来。这种做法就要求在写路由的时候，路由的id和后台返回的路由id一一对应

对于按钮的权限控制，可以写法方法或者动态指令，根据后台返回的数据来判断。






