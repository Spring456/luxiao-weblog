(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{571:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前端工程导航守卫以及权限控制功能的业务逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端工程导航守卫以及权限控制功能的业务逻辑"}},[t._v("#")]),t._v(" 前端工程导航守卫以及权限控制功能的业务逻辑")]),t._v(" "),a("h3",{attrs:{id:"导航守卫的逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导航守卫的逻辑"}},[t._v("#")]),t._v(" 导航守卫的逻辑")]),t._v(" "),a("p",[t._v("导航守卫的逻辑就是：")]),t._v(" "),a("p",[t._v("1、路由首页默认是登录页面")]),t._v(" "),a("p",[t._v("2、在登录页面点击登录后，请求后台接口，后台返回token")]),t._v(" "),a("p",[t._v("3、将token存入到vuex里，或放在请求头")]),t._v(" "),a("p",[t._v("4、在进入任何页面之前，通过"),a("code",[t._v("router.beforeEach")]),t._v("方法判断有无token或其他权限，有则进入，没有就跳转到登录页")]),t._v(" "),a("p",[a("code",[t._v("router.beforeEach")]),t._v("方法")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to表示要进入的页面")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// from表示从哪个页面进入")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// next()表示如果满足条件，则进入下一个路由")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"权限控制逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权限控制逻辑"}},[t._v("#")]),t._v(" 权限控制逻辑")]),t._v(" "),a("p",[t._v("1、第一种做法")]),t._v(" "),a("p",[t._v("导航的生成如果是后台生成，前端渲染成导航路由。这种就是，后台返回的是什么，我们直接渲染即可。如果是对于按钮的权限，可以根据判断即可。比较简单")]),t._v(" "),a("p",[t._v("2、第二种做法")]),t._v(" "),a("p",[t._v("如果权限控制由前端控制。那从后台获取到的权限值，比如id。我们在写路由时，通过id判断，后台有无这个id。没有就不显示，有就显示出来。这种做法就要求在写路由的时候，路由的id和后台返回的路由id一一对应")]),t._v(" "),a("p",[t._v("对于按钮的权限控制，可以写法方法或者动态指令，根据后台返回的数据来判断。")])])}),[],!1,null,null,null);a.default=e.exports}}]);