(window.webpackJsonp=window.webpackJsonp||[]).push([[217],{762:function(t,_,v){"use strict";v.r(_);var r=v(2),a=Object(r.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"从输入url到页面加载的全过程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#从输入url到页面加载的全过程"}},[t._v("#")]),t._v(" 从输入URL到页面加载的全过程")]),t._v(" "),_("h3",{attrs:{id:"大致流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#大致流程"}},[t._v("#")]),t._v(" 大致流程")]),t._v(" "),_("p",[t._v("1、URL解析")]),t._v(" "),_("p",[t._v("2、DNS解析")]),t._v(" "),_("p",[t._v("3、TCP连接")]),t._v(" "),_("p",[t._v("4、处理请求")]),t._v(" "),_("p",[t._v("5、响应请求")]),t._v(" "),_("p",[t._v("6、页面渲染")]),t._v(" "),_("h3",{attrs:{id:"url解析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#url解析"}},[t._v("#")]),t._v(" URL解析")]),t._v(" "),_("p",[t._v("首先判断输入的地址是否是合法的URL，然后浏览器还会做相关的安全检查，访问限制，检查缓存。")]),t._v(" "),_("p",[t._v("浏览器缓存可以查看："),_("RouterLink",{attrs:{to:"/js/Basic/cache.html"}},[t._v("浏览器缓存")])],1),t._v(" "),_("h3",{attrs:{id:"dns解析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dns解析"}},[t._v("#")]),t._v(" DNS解析")]),t._v(" "),_("p",[t._v("浏览器向DNS服务器发起请求，解析该URL中的域名对应的IP地址。")]),t._v(" "),_("p",[t._v("基本流程：浏览器缓存--系统缓存--路由器缓存--ISP DNS缓存--根域名服务器")]),t._v(" "),_("h3",{attrs:{id:"tcp连接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp连接"}},[t._v("#")]),t._v(" TCP连接")]),t._v(" "),_("p",[t._v("从前面的步骤，我们已经获取到IP地址，根据IP地址和默认的80端口，可以和服务器建立TCP连接。")]),t._v(" "),_("p",[t._v("过程：")]),t._v(" "),_("p",[t._v("1、应用层：发起HTTP请求")]),t._v(" "),_("p",[t._v("2、传输层：TCP传输报文(数据分割，标记标号，TCP三次握手)")]),t._v(" "),_("p",[t._v("3、网络层：IP协议查询Mac地址")]),t._v(" "),_("p",[t._v("4、链路层：以太网协议")]),t._v(" "),_("h3",{attrs:{id:"处理请求"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#处理请求"}},[t._v("#")]),t._v(" 处理请求")]),t._v(" "),_("p",[t._v("服务器对浏览器请求做出响应，并把对应的html文件发送给浏览器")]),t._v(" "),_("p",[t._v("最常见的就是接收TCP报文后，对HTTP进行解析，重定向，URL重写等操作。")]),t._v(" "),_("h3",{attrs:{id:"接收响应"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#接收响应"}},[t._v("#")]),t._v(" 接收响应")]),t._v(" "),_("p",[t._v("浏览器接收到服务器的响应资源后，会对资源进行分析。")]),t._v(" "),_("p",[t._v("常见的操作有：查看响应头，压缩，缓存，解析")]),t._v(" "),_("h3",{attrs:{id:"渲染页面"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#渲染页面"}},[t._v("#")]),t._v(" 渲染页面")]),t._v(" "),_("p",[t._v("客户端（浏览器）解析HTML内容并渲染出来，浏览器接收到数据包后的解析。解析流程如下：")]),t._v(" "),_("p",[t._v("构建DOM树：词法分析然后解析成DOM树（dom tree），是由dom元素及属性节点组成，树的根是document对象")]),t._v(" "),_("p",[t._v("构建CSS规则树：生成CSS规则树（CSS Rule Tree）")]),t._v(" "),_("p",[t._v("构建render树：Web浏览器将DOM和CSSOM结合，并构建出渲染树（render tree）")]),t._v(" "),_("p",[t._v("布局（Layout）：计算出每个节点在屏幕中的位置")]),t._v(" "),_("p",[t._v("绘制（Painting）：即遍历render树，并使用UI后端层绘制每个节点。")]),t._v(" "),_("p",[t._v("文章阅读：")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://juejin.cn/post/7091224941789446175",target:"_blank",rel:"noopener noreferrer"}},[t._v("网红面试题：从输入 url 到看到页面发生了什么"),_("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=a.exports}}]);