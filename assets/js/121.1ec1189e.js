(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{651:function(t,s,a){"use strict";a.r(s);var r=a(2),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"react配置别名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react配置别名"}},[t._v("#")]),t._v(" react配置别名")]),t._v(" "),s("h3",{attrs:{id:"react配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react配置"}},[t._v("#")]),t._v(" react配置")]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("create-react-app")]),t._v("脚手架搭建的react项目，工程化的配置都隐藏在了"),s("code",[t._v("react-scripts")]),t._v("包中了，在项目里是看不到相关配置的，如果要修改默认配置，有两种方案：")]),t._v(" "),s("p",[t._v("1、使用"),s("code",[t._v("yarn eject")]),t._v("命令，释放"),s("code",[t._v("react-scripts")]),t._v("中的所有配置到项目中。")]),t._v(" "),s("p",[t._v("2、通过第三方库来修改，比如"),s("code",[t._v("@craco/craco")]),t._v(".(推荐)")]),t._v(" "),s("p",[t._v("如果使用"),s("code",[t._v("yarn eject")]),t._v("来实现，这是不可逆的操作，也就是如果释放了"),s("code",[t._v("react-scripts")]),t._v("的配置，是不可以再包装起来的。因此不推荐，推荐使用第三方库"),s("code",[t._v("@craco/craco")]),t._v("来实现,如果以后有一些项目配置，也可以在这个js里面实现。")]),t._v(" "),s("h3",{attrs:{id:"使用-craco-craco"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-craco-craco"}},[t._v("#")]),t._v(" 使用"),s("code",[t._v("@craco/craco")])]),t._v(" "),s("p",[t._v("使用步骤：")]),t._v(" "),s("p",[t._v("1、安装"),s("code",[t._v("@craco/craco")]),t._v("包。执行"),s("code",[t._v("yarn add -D @craco/craco")])]),t._v(" "),s("p",[t._v("2、在项目根目录中创建 craco 的配置文件：craco.config.js，并在配置文件中配置路径别名")]),t._v(" "),s("p",[t._v("3、修改 "),s("code",[t._v("package.json")]),t._v("中的脚本命令--主要修改"),s("code",[t._v("script")]),t._v("对象的执行命令")]),t._v(" "),s("p",[t._v("4、在代码中使用"),s("code",[t._v("@")]),t._v("来表示src的绝对路径")]),t._v(" "),s("p",[t._v("5、重启项目，让配置生效")]),t._v(" "),s("p",[t._v("实现：")]),t._v(" "),s("p",[s("strong",[t._v("craco.config.js")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack 配置")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("webpack")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置别名")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("alias")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 约定：使用 @ 表示 src 文件所在路径")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'@'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("package.json配置修改")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将 start/build/test 三个命令修改为 craco 方式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"craco start"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"craco build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"craco test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"eject"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts eject"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"安装不生效的原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装不生效的原因"}},[t._v("#")]),t._v(" 安装不生效的原因")]),t._v(" "),s("p",[t._v("有时安装了"),s("code",[t._v("@craco/craco")]),t._v("，但不生效。这是因为版本问题。需要降低react-scripts 依赖包至4.0.0版本然后再执行"),s("code",[t._v("yarn add -D @craco/craco")])]),t._v(" "),s("h3",{attrs:{id:"别名提示问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#别名提示问题"}},[t._v("#")]),t._v(" @别名提示问题")]),t._v(" "),s("p",[t._v("使用vscode开发时，在代码里使用"),s("code",[t._v("@")]),t._v("符号，但编辑器没有提示，需要配置vscode提示")]),t._v(" "),s("p",[t._v("1、在项目根目录新建"),s("code",[t._v("jsconfig.js")]),t._v("配置文件")]),t._v(" "),s("p",[t._v("2、添加配置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"baseUrl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"paths"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@/*"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("vscode会自动读取jsconfig.json 中的配置，让vscode知道@就是src目录")])])}),[],!1,null,null,null);s.default=e.exports}}]);