(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{503:function(t,e){t.exports="data:image/png;base64,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"},690:function(t,e,r){"use strict";r.r(e);var o=r(2),a=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"理解js中的执行环境和作用域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#理解js中的执行环境和作用域"}},[t._v("#")]),t._v(" 理解JS中的执行环境和作用域")]),t._v(" "),e("h3",{attrs:{id:"执行环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行环境"}},[t._v("#")]),t._v(" 执行环境")]),t._v(" "),e("p",[t._v("我们知道js代码需要经过浏览器预编译后才能运行，在预编译时会发生变量提升，函数提升。那么，我们不禁要问：谁来执行预编译操作？又在哪里进行预编译操作呢？")]),t._v(" "),e("p",[t._v("是的，js代码运行需要一个运行环境，这个环境就是执行上下文。js运行之前的预编译也在这个环境中进行。")]),t._v(" "),e("p",[e("strong",[t._v("JS执行上下文分为三种")])]),t._v(" "),e("p",[t._v("1、全局执行上下文：代码开始执行时首先进入的环境")]),t._v(" "),e("p",[t._v("2、函数执行上下文：函数调用时，开始执行函数中的代码")]),t._v(" "),e("p",[t._v("3、eval执行上下文：不建议使用")]),t._v(" "),e("p",[e("strong",[t._v("执行上下文的周期")])]),t._v(" "),e("p",[t._v("1、创建阶段")]),t._v(" "),e("p",[t._v("(a)、创建词法环境")]),t._v(" "),e("p",[t._v("(b)、生成变量对象，建立作用域链")]),t._v(" "),e("p",[t._v("(c)、确认this指向，并绑定this")]),t._v(" "),e("p",[t._v("2、执行阶段")]),t._v(" "),e("p",[t._v("在这个阶段，进行变量赋值，函数引用和执行代码")]),t._v(" "),e("p",[t._v("window是最大最外围的执行环境。")]),t._v(" "),e("p",[e("strong",[t._v("作用域")]),t._v("：")]),t._v(" "),e("p",[t._v("作用域说的是"),e("strong",[t._v("变量")]),t._v("，而且只是针对"),e("strong",[t._v("函数作用域")]),t._v("和"),e("strong",[t._v("全局作用域")]),t._v("。也就是说for循环，if判断等是没有作用域的，在其内部定义的变量会被提升到其上面。有函数会被置于函数声明之下。每个函数都有自己的作用域。")]),t._v(" "),e("p",[t._v("作用域链")]),t._v(" "),e("p",[t._v("我自己的理解就是：每个执行环境对应着变量对象，变量对象包含着变量和函数，当代码执行的时候，变量对象会遵循由下到上，有内到外的去搜索对应的变量，直至到window这一层执行环境")]),t._v(" "),e("p",[t._v("特点：")]),t._v(" "),e("p",[t._v("1、函数内部的环境可以通过作用域链访问所有的外部环境，但外部环境无法访问内部环境中的任何变量和函数。")]),t._v(" "),e("p",[t._v("2、每个环境都可以向上搜索作用域链，以查询变量和函数名，但任何环境都不能通过向下搜索作用域而进入另一个执行环境。")]),t._v(" "),e("h3",{attrs:{id:"案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var scope=\"global\";\nvar fn\nconsole.log(fn)//undefined\nfunction foo(){\n    fn='inside'\n    console.log(scope);//global\n}    \nfoo();\n")])])]),e("p",[t._v("在这个例子中，函数foo()的作用域链包含了两个对象，一个是它自身对象，一个是全局环境中的变量对象。在函数内部我们可以访问全局作用域的scope，但是在函数外部是不能访问到函数内部定义的变量的fn的值。")]),t._v(" "),e("h3",{attrs:{id:"执行环境中的执行顺序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行环境中的执行顺序"}},[t._v("#")]),t._v(" 执行环境中的执行顺序")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var i= 1\nfunction foo(i){\n    if(i == 4){\n        return\n    }\n    foo(i+1)\n    console.log(i);//3,2,1\n}\nfoo(1)\n")])])]),e("p",[t._v("在这个例子中，我们知道是输出1,2,3，但为什么输出的顺序上是3,2,1呢？")]),t._v(" "),e("p",[t._v("先来看看到底上面的代码的执行顺序：")]),t._v(" "),e("p",[t._v("定义了全局变量i，是window上的执行环境，然后每次执行foo()时，就会创建一个执行环境，执行函数后，i等于3的时候退出。")]),t._v(" "),e("p",[t._v("结果上依次输出3,2,1的问题，是因为执行环境中涉及到堆栈。每次函数执行都会创建一个执行环境，每次调用函数都会把这个执行函数推到栈中，只有当这个函数全部执行完毕后这个环境才释放出来最终的结果。而且栈的特点是后进先出。所以依次输出3,2,1")]),t._v(" "),e("p",[e("img",{attrs:{src:r(503),alt:"js作用域运行"}})]),t._v(" "),e("h3",{attrs:{id:"es6中提供了块级作用域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6中提供了块级作用域"}},[t._v("#")]),t._v(" es6中提供了块级作用域")]),t._v(" "),e("p",[t._v("在es5，我们使用var关键字来声明变量，会有变量声明提前。在es6中，可以通过let或const来声明变量，通过这两个关键字声明的变量是有块级作用域的，也就是它不会进行变量声明提升。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("console.log(color)//undefined\nif(true){\n    var color='blue'\n}\nconsole.log(color)//blue\n")])])]),e("p",[t._v("上面的例子中，在if里面声明变量color，其实可以提升到if外面声明，在if里面再赋值。所以在外面能访问到color这个变量，一个是undefined，另一个是blue。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("console.log(color)//color is not defined\nif(true){\n    let color='blue'\n}\nconsole.log(color)//color is not defined\n")])])]),e("p",[t._v("但是如果把var换成let或const后，在if外面就不能访问到变量color了，这是因为使用let或const定义的变量都有自己的块级作用域，在其外部是不能访问到的。")]),t._v(" "),e("p",[t._v("推荐文章：\n"),e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/3",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript 深入之词法作用域和动态作用域"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/6",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript 深入之作用域链"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);